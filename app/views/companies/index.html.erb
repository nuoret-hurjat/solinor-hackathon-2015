<p id="notice"><%= notice %></p>

<h1>Listing Companies</h1>

<table class="table table-striped">
  <thead>
    <tr>
      <th width="40%">Name</th>
      <th width="10%">Logo</th>
      <th width="15%">Description</th>
      <th>Technologies</th>
      <th colspan="35%"></th>
    </tr>
  </thead>

  <tbody>
    <% @companies.each do |company| %>
     <% unless company.name.empty? || company.technologies.empty? || company.logo == "tyhjä" %>
      <tr>
        <td><%= link_to company.name.capitalize, company %></td>
        <% unless company.logo == "tyhjä" %>
          <td><%= image_tag(company.logo, :height => '32', :width => '32') %></td>
        <% else %>
          <td><%= image_tag('noav.png', :height => '32', :width => '32') %></td>
        <% end %>

        <td><button type="button" class="btn btn-info btn-sm" data-toggle="popover" title="Description of company" data-animation="true" data-trigger="hover click" data-content="<%= company.description %>">Info</button></td>
        <td>
          <ul class="list-inline">
            <% company.technologies.each do |tech| %>
              <li>
                <a href="http://<%= tech.url %>" target="_blank">
                  <img src="<%= tech.logo %>" height="32px">
                </a>
              </li>
            <% end %>
          </ul>
        </td>
  <% if not current_user.nil? %>        
        <td><%= link_to 'Edit', edit_company_path(company) %></td>
        <td><%= link_to 'Destroy', company, method: :delete, data: { confirm: 'Are you sure?' } %></td>
  <% end %>    
      </tr>
      <% end %>
    <% end %>
  </tbody>
</table>

<br>

<% if not current_user.nil? %>  
  <%= link_to 'New Company', new_company_path %>
<% end %>
